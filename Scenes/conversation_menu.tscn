[gd_scene load_steps=8 format=3 uid="uid://hy2hla3whkq8"]

[ext_resource type="Script" uid="uid://dtqinlrbfbhk" path="res://Scripts/conv_menu.gd" id="1_w57kf"]
[ext_resource type="Texture2D" uid="uid://biewu577waocr" path="res://Assets/Pngs/Background.png" id="2_ejib7"]
[ext_resource type="PackedScene" uid="uid://bd5usr4f6axc5" path="res://Scenes/side_panel.tscn" id="3_ejib7"]
[ext_resource type="Script" uid="uid://iqmkd0uhiwqv" path="res://Scripts/file_reader.gd" id="4_16f2p"]

[sub_resource type="Animation" id="Animation_16f2p"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("RichTextLabel:visible_ratio")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [1.0]
}

[sub_resource type="Animation" id="Animation_ejib7"]
resource_name = "text"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("RichTextLabel:visible_ratio")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, 1.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_tlyxs"]
_data = {
&"RESET": SubResource("Animation_16f2p"),
&"text": SubResource("Animation_ejib7")
}

[node name="Conv_menu" type="Node2D"]
editor_description = "Conversation menu - appears after pressing \"Talk\" or similar in the interaction menu."
script = ExtResource("1_w57kf")
TargetDialogueFile = "res://Data/Dialogue/Test_dialogue.txt"

[node name="Background" type="TextureRect" parent="."]
offset_right = 320.0
offset_bottom = 180.0
texture = ExtResource("2_ejib7")

[node name="AspectRatioContainer" type="AspectRatioContainer" parent="."]
offset_left = 144.0
offset_top = 24.0
offset_right = 208.0
offset_bottom = 104.0

[node name="Character_portrait" type="Sprite2D" parent="AspectRatioContainer"]
editor_description = "Should be placed top-center of the screen, above the text box and container, leaving black bars on its right and left."
position = Vector2(32, 40)

[node name="RichTextLabel" type="RichTextLabel" parent="."]
editor_description = "Visible when VBoxContainer isn't."
offset_left = 40.0
offset_top = 120.0
offset_right = 312.0
offset_bottom = 176.0
text = "This is placeholder text. Things said by a character will be displayed here."
scroll_following = true

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_tlyxs")
}
autoplay = "text"

[node name="VBoxContainer" type="VBoxContainer" parent="."]
editor_description = "Visible when RichTextLabel isn't."
offset_left = 40.0
offset_top = 120.0
offset_right = 312.0
offset_bottom = 176.0
alignment = 1

[node name="Side_Panel" parent="." instance=ExtResource("3_ejib7")]

[node name="FileReader" type="Node" parent="."]
script = ExtResource("4_16f2p")
metadata/_custom_type_script = "uid://iqmkd0uhiwqv"
